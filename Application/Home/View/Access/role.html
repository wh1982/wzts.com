<extend name="./Tpl/base" />
<block name="left_comm">
    <include file="Public/left_comm_new" />
</block>
<block name="content">
    <div class="page-content-wrapper">
        <!-- BEGIN CONTENT BODY -->
        <div class="page-content">
            <div class="page-bar">
                <ul class="page-breadcrumb">
                    <li>
                        <a href="{$home}">首页</a>
                        <i class="fa fa-circle"></i>
                    </li>
                    <li>
                        <a href='{:U("Access/index")}'>用户管理</a>
                        <i class="fa fa-circle"></i>
                    </li>
                    <li>
                        <a href="###">角色列表</a>

                    </li>

                </ul>

            </div>


            <h1 class="page-title" >角色列表
                <small>




                </small>
            </h1>
            <a href='{:U("Access/role_add")}' class="btn blue" style="margin-bottom: 20px;">创建新角色</a>
            <div class="clearfix"></div>
            <!-- table  -->





            <div class="portlet-body">
                <div class="table-container" >

                    <table width="100%" class="table  table-hover " id="sample_1">
                        <thead>
                        <tr role="row" class="heading">
                            <th> 序号&nbsp;# </th>

                            <th>角色</th>

                            <th>操作</th>
                        </tr>



                        </thead>

                        <tbody>

                        <volist id='vo' name='list'>
                            <tr role="row" >
                                <td>{$vo.id}</td>
                                <td>{$vo.name}</td>

                                <td>

                                    <a href="{:U('Access/access',array('id'=>$vo['id']))}" class="btn btn-outline btn-circle btn-sm purple">
                                        <i class="fa fa-edit"></i> 权限配置
                                    </a>

                                    <a href="{:U('Access/role_del',array('id'=>$vo['id']))}" class="btn btn-outline btn-circle dark btn-sm black">
                                        <i class="fa fa-trash-o"></i> 删除 </a>


                                </td>

                            </tr>
                        </volist>
                        </tbody>
                    </table>

                </div>
            </div>




            <!-- table end -->





        </div>
        <!-- END CONTENT BODY -->
    </div>
</block>
<!-- BEGIN PAGE LEVEL PLUGINS -->
<block name="page_level_plugins">
    <script src="__ROOT__/Public/assets/global/scripts/datatable.js" type="text/javascript"></script>
    <script src="__ROOT__/Public/assets/global/plugins/datatables/datatables.min.js" type="text/javascript"></script>
    <script src="__ROOT__/Public/assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.js" type="text/javascript"></script>
    <script src="__ROOT__/Public/assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js" type="text/javascript"></script>
    <script src="__ROOT__/Public/assets/global/plugins/flot/jquery.flot.min.js" type="text/javascript"></script>
    <script src="__ROOT__/Public/assets/global/plugins/flot/jquery.flot.resize.min.js" type="text/javascript"></script>
    <script src="__ROOT__/Public/assets/global/plugins/flot/jquery.flot.pie.min.js" type="text/javascript"></script>
</block>
<!-- END PAGE LEVEL PLUGINS -->
<!-- BEGIN PAGE LEVEL SCRIPTS -->
<block name="page_level_scripts">
    <script language="javascript">
        jQuery(document).ready(function()
        {

            var table = $('#sample_1');
            table.dataTable({

                // Internationalisation. For more info refer to http://datatables.net/manual/i18n
                "language": {
                    "aria": {
                        "sortAscending": ": activate to sort column ascending",
                        "sortDescending": ": activate to sort column descending"
                    },
                    "emptyTable": "No data available in table",
                    "info": "Showing _START_ to _END_ of _TOTAL_ records",
                    "infoEmpty": "No records found",
                    "infoFiltered": "(filtered1 from _MAX_ total records)",
                    "lengthMenu": "Show _MENU_",
                    "search": "Search:",
                    "zeroRecords": "No matching records found",
                    "paginate": {
                        "previous":"Prev",
                        "next": "Next",
                        "last": "Last",
                        "first": "First"
                    }
                },

                // Or you can use remote translation file
                //"language": {
                //   url: '//cdn.datatables.net/plug-ins/3cfcc339e89/i18n/Portuguese.json'
                //},

                // Uncomment below line("dom" parameter) to fix the dropdown overflow issue in the datatable cells. The default datatable layout
                // setup uses scrollable div(table-scrollable) with overflow:auto to enable vertical scroll(see: assets/global/plugins/datatables/plugins/bootstrap/dataTables.bootstrap.js).
                // So when dropdowns used the scrollable div should be removed.
                //"dom": "<'row'<'col-md-6 col-sm-12'l><'col-md-6 col-sm-12'f>r>t<'row'<'col-md-5 col-sm-12'i><'col-md-7 col-sm-12'p>>",

                "bStateSave": false, // save datatable state(pagination, sort, etc) in cookie.
                "autoWidth": true,
                "orderCellsTop": true,
                //"scrollX": true,
                //"serverSide": true,
                //"filterApplyAction": "filter-submit",
                //"filterCancelAction": "filter-cancel",


                "lengthMenu": [
                    [20, 50, 100, -1],
                    [20, 50, 100, "All"] // change per page values here
                ],
                // set the initial value
                "pageLength": 20,
                "pagingType": "bootstrap_full_number",


                "columnDefs":[{
                    "orderable":false,//禁用排序
                    "targets":[0,2]//指定的列
                }],
                "order": [
                    //[1, "asc"]
                ] // set first column as a default sort by asc
            });
            //end
        });
    </script>
</block>
<!-- END PAGE LEVEL SCRIPTS -->







