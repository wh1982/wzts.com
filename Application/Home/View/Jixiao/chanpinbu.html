<taglib name="html" />
<include file="Public/header" />
<body class="page-header-fixed page-sidebar-closed-hide-logo page-content-white">
<div class="page-wrapper">
    <!-- BEGIN HEADER -->
    <include file="Public/top" />
    <!-- END HEADER -->
    <!-- BEGIN HEADER & CONTENT DIVIDER -->
    <div class="clearfix"> </div>
    <!-- END HEADER & CONTENT DIVIDER -->
    <!-- BEGIN CONTAINER -->
    <div class="page-container">
        <!-- BEGIN SIDEBAR -->
        <!--  left_comm-->
        <include file="Public/left_comm" />
        <!-- END SIDEBAR -->
        <!-- BEGIN CONTENT -->
        <div class="page-content-wrapper">
            <!-- BEGIN CONTENT BODY -->
            <div class="page-content">
                <!-- BEGIN PAGE HEADER-->
                <!-- BEGIN THEME PANEL -->

                <!-- END THEME PANEL -->
                <!-- BEGIN PAGE BAR -->
                <div class="page-bar">
                    <ul class="page-breadcrumb">
                        <li>
                            <a href="index.html">首页</a>
                            <i class="fa fa-circle"></i>
                        </li>
                        <li>
                            <span>绩效数据明细 </span>
                        </li>
                    </ul>

                </div>
                <!-- END PAGE BAR -->
                <!-- BEGIN PAGE TITLE-->
                <h1 class="page-title" >绩效数据明细
                    <small></small>
                </h1>
                <!-- END PAGE TITLE-->
                <!-- END PAGE HEADER-->
                <!-- BEGIN DASHBOARD STATS 1-->

                <div class="clearfix"></div>
                <!-- END DASHBOARD STATS 1-->





                <div class="portlet light portlet-fit portlet-datatable bordered">
                    <div class="portlet-title">
                        <div class="caption">
                            <i class="icon-settings font-dark"></i>
                            <span class="caption-subject font-dark sbold uppercase">Ajax Datatable</span>
                        </div>
                        <div class="actions">

                            <div class="btn-group">
                                <a class="btn red btn-outline btn-circle" href="javascript:;" data-toggle="dropdown">
                                    <i class="fa fa-share"></i>
                                    <span class="hidden-xs"> 导出</span>
                                    <i class="fa fa-angle-down"></i>
                                </a>
                                <ul class="dropdown-menu pull-right">
                                    <li>
                                        <a href="javascript:;">导出到Excel </a>
                                    </li>

                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="portlet-body">
                        <div class="table-container" >

                            <table width="100%" class="table table-striped table-bordered table-hover " id="datatable_ajax">
                                <thead>
                                <tr role="row" class="heading">
                                    <th> 序号&nbsp;# </th>
                                    <th width="200"> 时间 </th>
                                    <th>渠道</th>
                                    <th>店铺</th>
                                    <th>仓位</th>
                                    <th>供应商</th>
                                    <th>品类</th>
                                    <th>SKU</th>
                                    <th>订单号</th>
                                    <th>建挡人</th>
                                    <th>成本价(单)</th>
                                    <th>数量</th>
                                    <th>销售价(总)</th>
                                    <th>提成</th>
                                    <th>建档时间</th>
                                    <th>状态</th>
                                    <th> 操作</th>
                                </tr>

                                <tr role="row" class="filter">
                                    <td></td>
                                    <td>
                                        <div class="input-group date date-picker margin-bottom-5" data-date-format="yyyy-mm-dd">
                                            <input name="search_stime" type="text" class="form-control form-filter input-sm" id="search_stime"  placeholder="From">
                                            <span class="input-group-btn">
                                                                    <button class="btn btn-sm default" type="button">
                                                                        <i class="fa fa-calendar"></i>                                                                    </button>
                                                                </span>                                                            </div>
                                        <div class="input-group date date-picker" data-date-format="yyyy-mm-dd">
                                            <input name="search_etime" type="text" class="form-control form-filter input-sm" id="search_etime" placeholder="To">
                                            <span class="input-group-btn">
                                                                    <button class="btn btn-sm default" type="button">
                                                                        <i class="fa fa-calendar"></i>                                                                    </button>
                                                                </span>                                                            </div>                                                        </td>
                                    <td><input name="qudao" type="text" class="form-control  input-sm valid" id="qudao"></td>
                                    <td><input name="dianpu" type="text" class="form-control form-filter input-sm" id="dianpu"></td>
                                    <td><input name="cangwei" type="text" class="form-control form-filter input-sm" id="cangwei"></td>
                                    <td><input name="gongyingshang" type="text" class="form-control form-filter input-sm" id="gongyingshang"></td>
                                    <td>
                                        <input name="title" type="text" class="form-control form-filter input-sm" id="title"> </td>
                                    <td><input name="sku" type="text" class="form-control form-filter input-sm" id="sku"></td>
                                    <td><input name="order_id" type="text" class="form-control form-filter input-sm" id="order_id"></td>
                                    <td><input name="lururen" type="text" class="form-control form-filter input-sm" id="lururen"></td>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>

                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                    <td>

                                        <div class="margin-bottom-5">
                                            <button class="btn btn-sm green btn-outline  margin-bottom filter-submit">
                                                <i class="fa fa-search"></i> Search</button>
                                        </div>
                                        <button class="btn btn-sm red btn-outline filter-cancel">
                                            <i class="fa fa-times"></i> Reset</button>                                                        </td>
                                </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>

                        </div>
                    </div>
                </div>

            </div>
            <!-- END CONTENT BODY -->
        </div>
        <!-- END CONTENT -->
        <!-- BEGIN QUICK SIDEBAR -->
        <a href="javascript:;" class="page-quick-sidebar-toggler">
            <i class="icon-login"></i>
        </a>

        <!-- END QUICK SIDEBAR -->
    </div>
    <!-- END CONTAINER -->
    <!-- BEGIN FOOTER -->
    <include file="Public/footer" />
    <!-- END FOOTER -->
</div>
<!--[if lt IE 9]>
<script src="__ROOT__/Public/assets/global/plugins/respond.min.js"></script>
<script src="__ROOT__/Public/assets/global/plugins/excanvas.min.js"></script>
<script src="__ROOT__/Public/assets/global/plugins/ie8.fix.min.js"></script>
<![endif]-->
<!-- BEGIN CORE PLUGINS -->
<script src="__ROOT__/Public/assets/global/plugins/jquery.min.js" type="text/javascript"></script>
<script src="__ROOT__/Public/assets/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
<script src="__ROOT__/Public/assets/global/plugins/js.cookie.min.js" type="text/javascript"></script>
<script src="__ROOT__/Public/assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
<script src="__ROOT__/Public/assets/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
<script src="__ROOT__/Public/assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js" type="text/javascript"></script>
<!-- END CORE PLUGINS -->
<!-- BEGIN PAGE LEVEL PLUGINS -->
<script src="__ROOT__/Public/assets/global/scripts/datatable.js" type="text/javascript"></script>
<script src="__ROOT__/Public/assets/global/plugins/datatables/datatables.min.js" type="text/javascript"></script>
<script src="__ROOT__/Public/assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.js" type="text/javascript"></script>
<script src="__ROOT__/Public/assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js" type="text/javascript"></script>
<script src="__ROOT__/Public/assets/global/plugins/flot/jquery.flot.min.js" type="text/javascript"></script>
<script src="__ROOT__/Public/assets/global/plugins/flot/jquery.flot.resize.min.js" type="text/javascript"></script>
<script src="__ROOT__/Public/assets/global/plugins/flot/jquery.flot.pie.min.js" type="text/javascript"></script>
<!-- END PAGE LEVEL PLUGINS -->
<!-- BEGIN THEME GLOBAL SCRIPTS -->
<script src="__ROOT__/Public/assets/global/scripts/app.min.js" type="text/javascript"></script>
<!-- END THEME GLOBAL SCRIPTS -->
<!-- BEGIN PAGE LEVEL SCRIPTS -->


<!-- END PAGE LEVEL SCRIPTS -->
<!-- BEGIN THEME LAYOUT SCRIPTS -->
<script src="__ROOT__/Public/assets/layouts/layout/scripts/layout.min.js" type="text/javascript"></script>
<script src="__ROOT__/Public/assets/layouts/layout/scripts/demo.min.js" type="text/javascript"></script>
<script src="__ROOT__/Public/assets/layouts/global/scripts/quick-sidebar.min.js" type="text/javascript"></script>
<script src="__ROOT__/Public/assets/layouts/global/scripts/quick-nav.min.js" type="text/javascript"></script>
<!-- END THEME LAYOUT SCRIPTS -->

<script language="javascript">

    jQuery(document).ready(function() {
        $('.date-picker').datepicker({
            rtl: App.isRTL(),
            autoclose: true
        });
        //start

        var grid = new Datatable();
        grid.init({
            src: $("#datatable_ajax"),
            filterApplyAction: "filter-submit",
            filterCancelAction: "filter-cancel",
            onSuccess: function (grid, response) {
                // grid:        grid object
                // response:    json object of server side ajax response
                // execute some code after table records loaded
            },
            onError: function (grid) {
                // execute some code on network or other general error  
            },
            onDataLoad: function(grid) {
                // execute some code on ajax data load
            },

            loadingMessage: 'Loading...',//assets/global/img/loading-spinner-grey.gif		
            dataTable: { // here you can define a typical datatable settings from http://datatables.net/usage/options 

                // Uncomment below line("dom" parameter) to fix the dropdown overflow issue in the datatable cells. The default datatable layout
                // setup uses scrollable div(table-scrollable) with overflow:auto to enable vertical scroll(see: assets/global/scripts/datatable.js). 
                // So when dropdowns used the scrollable div should be removed. 
                //"dom": "<'row'<'col-md-8 col-sm-12'pli><'col-md-4 col-sm-12'<'table-group-actions pull-right'>>r>t<'row'<'col-md-8 col-sm-12'pli><'col-md-4 col-sm-12'>>",

                // save datatable state(pagination, sort, etc) in cookie.
                "bStateSave":false,
                "lengthMenu": [
                    [10, 20, 50, 100, 150, -1],
                    [10, 20, 50, 100, 150, "All"] // change per page values here
                ],
                "autoWidth": true,
                "searching":true,

                "serverSide": true,
                "processing": true,

                //"scrollX": true,
                //"scrollY": 400,
                "pageLength": 20, // default record count per page

                "ajax": {
                    url: '{:U("Jixiao/ajax_jx_get_chanpinbu")}', // ajax source
                    type:"POST",
                    data:function(d){
                        d.search_stime=$("#search_stime").val();
                        d.search_etime=$("#search_etime").val();
                        d.qudao=$("#qudao").val();
                        d.dianpu=$("#dianpu").val();
                        d.cangwei=$("#cangwei").val();
                        d.gongyingshang=$("#gongyingshang").val();
                        d.title=$("#title").val();
                        d.sku=$("#sku").val();
                        d.order_id=$("#order_id").val();
                        d.lururen=$("#lururen").val();

                    }

                },

                "order": [
                    [1, "asc"]

                ]// set first column as a default sort by asc
                ,
                "columnDefs":[{
                    "orderable":false,//禁用排序
                    "targets":[0,10,11,12,13,14,15,16]//指定的列
                }],

            }
        });

        //end

    });

</script>
</body>
</html>
